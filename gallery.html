<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图集展示 - 丝维雅•柏蒂尔</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Roboto:wght@300;400;500&display=swap">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/gallery.css">
</head>
<body>
    <div class="stars-container">
        <div id="stars"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>
    </div>

    <div class="container">
        <header>
            <div class="logo">
                <h1 class="site-title">丝维雅</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">首页</a></li>
                    <li><a href="profile.html">角色档案</a></li>
                    <li><a href="quotes.html">语录展示</a></li>
                    <li><a href="relationships.html">角色关系</a></li>
                    <li><a href="story.html">故事与章节</a></li>
                    <li><a href="world.html">世界观与背景</a></li>
                    <li><a href="gallery.html" class="active">图集展示</a></li>
                </ul>
            </nav>
        </header>

        <main>

            <section class="gallery-filter glass-panel">
                <h3>图集分类</h3>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">全部</button>
                    <button class="filter-btn" data-filter="silvia">丝维雅</button>
                    <button class="filter-btn" data-filter="lilith">莉路丝</button>
                    <button class="filter-btn" data-filter="angel">天使形态</button>
                    <button class="filter-btn" data-filter="fallen">堕落形态</button>
                </div>
            </section>

            <section class="gallery-grid glass-panel">
                <!-- 图集项目1 -->
                <div class="gallery-item" data-category="silvia fallen">
                    <div class="gallery-image silvia-1">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>堕落之翼</h4>
                                <p>丝维雅的银灰色翅膀象征着她的堕落状态</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>堕落之翼</h4>
                        <p>丝维雅的银灰色翅膀象征着她的堕落状态，但仍保留着部分纯白羽翼，暗示她内心深处仍存留着天使的本质。</p>
                    </div>
                </div>

                <!-- 图集项目2 -->
                <div class="gallery-item" data-category="lilith angel">
                    <div class="gallery-image lilith-1">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>纯白之光</h4>
                                <p>莉路丝的纯白羽翼散发着神圣的光芒</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>纯白之光</h4>
                        <p>莉路丝的纯白羽翼散发着神圣的光芒，象征着她作为天使的纯洁本质。她的眼神中却透露出对完美的质疑。</p>
                    </div>
                </div>

                <!-- 图集项目3 -->
                <div class="gallery-item" data-category="silvia fallen">
                    <div class="gallery-image silvia-2">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>蝶形纹路</h4>
                                <p>丝维雅颧骨处的蝶形淡紫色纹路</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>蝶形纹路</h4>
                        <p>丝维雅颧骨处的蝶形淡紫色纹路，类似陈旧伤痕，是她承接瘟疫后的永久印记，象征着蜕变与重生。</p>
                    </div>
                </div>

                <!-- 图集项目4 -->
                <div class="gallery-item" data-category="lilith angel">
                    <div class="gallery-image lilith-2">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>无面人偶</h4>
                                <p>莉路丝捏制的没有面孔的人偶</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>无面人偶</h4>
                        <p>莉路丝捏制的没有面孔的人偶，象征"无法触及的真实连接"。这些人偶代表着人间孤独，无法被理解的人们。</p>
                    </div>
                </div>

                <!-- 图集项目5 -->
                <div class="gallery-item" data-category="silvia fallen">
                    <div class="gallery-image silvia-3">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>痛觉之翼</h4>
                                <p>丝维雅的羽翼根部传来灼烧般的痛感</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>痛觉之翼</h4>
                        <p>丝维雅被赋予了"痛觉"，每当她产生强烈情绪，羽翼根部就会传来灼烧般的痛感，成为永恒的惩罚与提醒。</p>
                    </div>
                </div>

                <!-- 图集项目6 -->
                <div class="gallery-item" data-category="lilith angel">
                    <div class="gallery-image lilith-3">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>生命之树</h4>
                                <p>莉路丝的丝带由生命之树的枝条编织</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>生命之树</h4>
                        <p>莉路丝的丝带由生命之树的枝条编织，永不枯萎。象征着她与生命的联系，以及对永恒的追求与质疑。</p>
                    </div>
                </div>

                <!-- 图集项目7 -->
                <div class="gallery-item" data-category="silvia lilith">
                    <div class="gallery-image dual-1">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>镜像存在</h4>
                                <p>丝维雅与莉路丝背对背站立</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>镜像存在</h4>
                        <p>丝维雅与莉路丝背对背站立，一个面向黑暗，一个面向光明，象征着她们作为同一灵魂的两面，永远无法同时存在。</p>
                    </div>
                </div>

                <!-- 图集项目8 -->
                <div class="gallery-item" data-category="silvia angel fallen">
                    <div class="gallery-image silvia-4">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h4>堕落瞬间</h4>
                                <p>丝维雅从天堂坠落的瞬间</p>
                            </div>
                        </div>
                    </div>
                    <div class="gallery-caption">
                        <h4>堕落瞬间</h4>
                        <p>丝维雅从天堂坠落的瞬间，她的羽翼逐渐由白转灰，眼中的光芒褪去，取而代之的是深沉的思考与悲悯。</p>
                    </div>
                </div>
            </section>

            <!-- 灯箱效果 -->
            <div class="lightbox">
                <span class="lightbox-close">&times;</span>
                <div class="lightbox-content">
                    <img class="lightbox-img" src="" alt="放大图片">
                    <div class="lightbox-caption"></div>
                </div>
                <button class="lightbox-prev">&lt;</button>
                <button class="lightbox-next">&gt;</button>
            </div>
        </main>

        <footer class="glass-panel">
            <div class="footer-content">
                <p>&copy; oc 丝维雅•柏蒂尔 角色展示网站</p>
                <p class="footer-quote">"如果你能走过暗淡无光的黑夜，看见黎明，那神明为何叹息？"</p>
            </div>
        </footer>
    </div>

    <script src="js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化图集过滤功能
            const filterButtons = document.querySelectorAll('.filter-btn');
            const galleryItems = document.querySelectorAll('.gallery-item');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // 移除所有按钮的活动状态
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // 添加当前按钮的活动状态
                    this.classList.add('active');
                    
                    // 获取过滤类别
                    const filterValue = this.getAttribute('data-filter');
                    
                    // 过滤图集项目
                    galleryItems.forEach(item => {
                        if (filterValue === 'all' || item.getAttribute('data-category').includes(filterValue)) {
                            item.style.display = 'block';
                            setTimeout(() => {
                                item.style.opacity = '1';
                                item.style.transform = 'scale(1)';
                            }, 50);
                        } else {
                            item.style.opacity = '0';
                            item.style.transform = 'scale(0.8)';
                            setTimeout(() => {
                                item.style.display = 'none';
                            }, 300);
                        }
                    });
                });
            });
            
            // 初始化灯箱功能
            const lightbox = document.querySelector('.lightbox');
            const lightboxImg = document.querySelector('.lightbox-img');
            const lightboxCaption = document.querySelector('.lightbox-caption');
            const lightboxClose = document.querySelector('.lightbox-close');
            const lightboxPrev = document.querySelector('.lightbox-prev');
            const lightboxNext = document.querySelector('.lightbox-next');
            let currentIndex = 0;
            
            // 打开灯箱
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    currentIndex = index;
                    updateLightbox();
                    lightbox.style.display = 'flex';
                    setTimeout(() => {
                        lightbox.style.opacity = '1';
                    }, 10);
                });
            });
            
            // 更新灯箱内容
            function updateLightbox() {
                const currentItem = galleryItems[currentIndex];
                const imgClass = currentItem.querySelector('.gallery-image').classList[1];
                const caption = currentItem.querySelector('.gallery-caption').innerHTML;
                
                // 使用CSS类作为背景
                lightboxImg.className = 'lightbox-img ' + imgClass;
                lightboxCaption.innerHTML = caption;
            }
            
            // 关闭灯箱
            lightboxClose.addEventListener('click', function() {
                lightbox.style.opacity = '0';
                setTimeout(() => {
                    lightbox.style.display = 'none';
                }, 300);
            });
            
            // 点击灯箱背景也关闭
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    lightboxClose.click();
                }
            });
            
            // 上一张图片
            lightboxPrev.addEventListener('click', function(e) {
                e.stopPropagation();
                currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
                updateLightbox();
            });
            
            // 下一张图片
            lightboxNext.addEventListener('click', function(e) {
                e.stopPropagation();
                currentIndex = (currentIndex + 1) % galleryItems.length;
                updateLightbox();
            });
            
            // 键盘导航
            document.addEventListener('keydown', function(e) {
                if (lightbox.style.display === 'flex') {
                    if (e.key === 'Escape') {
                        lightboxClose.click();
                    } else if (e.key === 'ArrowLeft') {
                        lightboxPrev.click();
                    } else if (e.key === 'ArrowRight') {
                        lightboxNext.click();
                    }
                }
            });
            
            // 初始化图集项目动画
            galleryItems.forEach(item => {
                item.style.opacity = '0';
                item.style.transform = 'translateY(20px)';
            });
            
            // 使用Intersection Observer检测元素是否在视口中
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            // 观察每个图集项目
            galleryItems.forEach(item => {
                observer.observe(item);
            });
        });
    </script>
</body>
</html>
